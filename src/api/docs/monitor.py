"""Documentation strings для Monitor API."""

HEALTH_CHECK = """
Выполняет полную проверку всех компонентов системы и возвращает детальный статус.

## Что проверяется

### Критические компоненты
- **Redis** — хранилище сессий и очередь задач

### Провайдеры моделей
- Все зарегистрированные LLM провайдеры
- Статус каждого провайдера отдельно

### Системные ресурсы
- Использование диска (%)
- Свободное место на диске (GB)
- Использование RAM (%)
- Доступная RAM (GB)

### GPU (если доступен)
- Название GPU
- Использование VRAM (%)

## Статусы ответа

| Статус | HTTP код | Описание |
|--------|----------|----------|
| `healthy` | 200 | Все компоненты работают |
| `degraded` | 503 | Некоторые компоненты недоступны |
| `unhealthy` | 503 | Критические компоненты недоступны |

## Использование

Подходит для:
- **Kubernetes** — livenessProbe и readinessProbe
- **Docker Compose** — healthcheck
- **Load Balancer** — проверка доступности backend

## Примечание

Для простого health check без деталей используйте `/health` (root endpoint).
"""

GPU_STATS = """
Возвращает полную информацию о GPU и использовании видеопамяти (VRAM).

## Что возвращает

### GPU Info
- **name** — название GPU (например, "NVIDIA RTX 4090")
- **driver_version** — версия драйвера NVIDIA
- **cuda_version** — версия CUDA
- **compute_capability** — вычислительные возможности GPU

### VRAM Usage
- **total_mb** — общий объём VRAM в MB
- **used_mb** — использовано VRAM в MB
- **free_mb** — свободно VRAM в MB
- **used_percent** — процент использования VRAM

### Lock Status
- **is_locked** — занят ли GPU задачей генерации
- **current_task_id** — ID текущей задачи (если GPU занят)

## Использование

- Проверка доступной VRAM перед загрузкой модели
- Мониторинг занятости GPU текущими задачами
- Отслеживание использования ресурсов в Grafana/Prometheus

## Ошибки

- **503 Service Unavailable** — GPU недоступен (нет NVIDIA GPU или драйверов)
"""

QUEUE_STATS = """
Возвращает информацию о текущем состоянии очереди задач генерации.

## Что возвращает

### Метрики очереди
- **queue_size** — количество задач в очереди ожидания
- **processing_task** — ID задачи, которая сейчас выполняется (или null)
- **recent_logs_count** — количество записей в логах за последний период

## Использование

- Мониторинг нагрузки на сервис
- Балансировка запросов между серверами
- Алертинг при переполнении очереди

## Интерпретация значений

| queue_size | Статус | Рекомендация |
|------------|--------|--------------|
| 0 | Idle | Система простаивает |
| 1-10 | Normal | Нормальная нагрузка |
| 11-50 | Busy | Повышенная нагрузка |
| 50+ | Overloaded | Рассмотреть масштабирование |

## Связь с другими endpoints

- `/monitor/health` — общий статус системы
- `/monitor/gpu` — детали о GPU и VRAM
- `/tasks/{task_id}` — статус конкретной задачи
"""

GET_LOGS = """
Возвращает логи системы с возможностью фильтрации.

## Параметры запроса

| Параметр | Тип | Описание |
|----------|-----|----------|
| `limit` | int | Максимум записей (default: 100, max: 1000) |
| `level` | string | Фильтр по уровню (DEBUG, INFO, WARNING, ERROR) |
| `task_id` | string | Фильтр по ID задачи |

## Формат ответа

```json
{
    "logs": [
        {
            "timestamp": "2024-01-15T10:30:00Z",
            "task_id": "task_abc123",
            "level": "INFO",
            "message": "Task started"
        }
    ],
    "total": 100,
    "filtered": 50
}
```

## Использование

- Отладка проблем с задачами
- Мониторинг активности системы
- Сбор метрик и алертинг
"""

DAILY_STATS = """
Возвращает агрегированную статистику за указанный день.

## Параметры

| Параметр | Тип | Описание |
|----------|-----|----------|
| `date` | string | Дата в формате YYYY-MM-DD (по умолчанию сегодня) |

## Метрики

| Метрика | Описание |
|---------|----------|
| `tasks_completed` | Количество успешно выполненных задач |
| `tasks_failed` | Количество проваленных задач |
| `tokens_used` | Общее количество использованных токенов |
| `total_duration_ms` | Общее время выполнения в мс |

## Хранение

Статистика хранится в Redis с TTL 7 дней.
"""
