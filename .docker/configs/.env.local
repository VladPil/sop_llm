# ========================================
# SOP LLM Service - Local Development
# ========================================
# Полное окружение для разработки с hot-reload

# ========================================
# Application Settings
# ========================================
SOP__APP_NAME=SOP LLM Service
SOP__ENVIRONMENT=local
SOP__DEBUG=true

# ========================================
# Server Settings
# ========================================
SOP__SERVER__HOST=0.0.0.0
SOP__SERVER__PORT=8023
SOP__SERVER__WORKERS=1
SOP__SERVER__TIMEOUT=60
SOP__SERVER__RELOAD=true

# API Port (внутренний порт контейнера)
API_PORT=8000

# ========================================
# Redis Settings
# ========================================
SOP__REDIS__HOST=redis
SOP__REDIS__PORT=6379
SOP__REDIS__DB=0
SOP__REDIS__PASSWORD=
SOP__REDIS__POOL_MIN=1
SOP__REDIS__POOL_MAX=50

# ========================================
# Cache Settings
# ========================================
SOP__CACHE__ENABLED=true
SOP__CACHE__TTL=600
SOP__CACHE__PREFIX=sop_llm:

# ========================================
# LLM Settings
# ========================================
SOP__LLM__MODELS_CACHE_DIR=/root/.cache/huggingface/hub
SOP__LLM__DEFAULT_MODEL=Qwen/Qwen2.5-3B-Instruct
SOP__LLM__DEFAULT_EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
SOP__LLM__MAX_CONCURRENT_REQUESTS=2
SOP__LLM__MAX_TOKENS_PER_REQUEST=4096
SOP__LLM__REQUEST_TIMEOUT=60
SOP__LLM__MEMORY_THRESHOLD_PERCENT=90.0

# ========================================
# JSON Fixer Settings
# ========================================
SOP__JSON_FIXER__ENABLED=true
SOP__JSON_FIXER__MODEL=Qwen/Qwen2.5-7B-Instruct
SOP__JSON_FIXER__LOAD_IN_8BIT=true
SOP__JSON_FIXER__TIMEOUT=30
SOP__JSON_FIXER__MAX_ATTEMPTS=2

# ========================================
# Claude API Settings
# ========================================
SOP__CLAUDE__API_KEY=
SOP__CLAUDE__MODEL=claude-3-haiku-20240307
SOP__CLAUDE__MAX_CONCURRENT_REQUESTS=5

# ========================================
# Queue Settings
# ========================================
SOP__QUEUE__NAME=sop_llm_tasks
SOP__QUEUE__MAX_RETRIES=3
SOP__QUEUE__RETRY_DELAY=5

# ========================================
# Logging Settings
# ========================================
SOP__LOG__LEVEL=DEBUG
SOP__LOG__FORMAT=text
SOP__LOG__FILE_PATH=logs/sop-llm.log
SOP__LOG__ROTATION=10 MB
SOP__LOG__RETENTION=10 days

# ========================================
# Docker Settings
# ========================================
APP_PORT=8001
REDIS_PORT=6381
REDIS_COMMANDER_PORT=8082
METRICS_PORT=9091

# GPU Support (для локальной разработки обычно false)
INSTALL_GPU=false
CUDA_VERSION=12.1.0
DEVICE=cpu

# HuggingFace
HUGGINGFACE_TOKEN=

# External API Keys
ANTHROPIC_API_KEY=
OPENAI_API_KEY=

# Performance
WORKERS=1
THREADS=4
TORCH_NUM_THREADS=4
OMP_NUM_THREADS=4
